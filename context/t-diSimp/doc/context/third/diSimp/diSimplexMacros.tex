% A ConTeXt document [master document: diSimp.tex]

\chapter[title=diSimplex macros]

\startMkIVCode

\def\lol{\inlinemath{\text{LoL}}}

\def\joylol{\inlinemath{\text{JoyLoL}}}
\def\joylolZero{\inlinemath{\text{JoyLoL}_0}}

\def\lol{\inlinemath{\text{LoL}}}
\def\sets{\inlinemath{\text{Set}}}

\definesidebar
  [MMundiBar]
  [rulecolor=gray-6]

\defineframedtext
  [MMundiFramedText]
  [
    leftframe=no,
    rightframe=no,
    width=\hsize,
    height=fit,
    offset=2pt
  ]

%\def\MMundi#1{#1}
\def\MMundi#1{
  \inframed
    [leftframe=no,rightframe=no,height=fit,offset=none]
    {\startsidebar[MMundiBar]#1\stopsidebar}
  }

\startuseMPgraphic{MMundiTopBar}{textWidth,textHeight}
  draw
    (0                ,0                 ) -- 
    (0                ,\MPvar{textHeight}) -- 
    (\MPvar{textWidth},\MPvar{textHeight}) ;
\stopuseMPgraphic
  
\startuseMPgraphic{MMundiBottomBar}{textWidth,textHeight}
  draw 
    (0                ,0                 ) -- 
    (\MPvar{textWidth},0                 ) -- 
    (\MPvar{textWidth},\MPvar{textHeight}) ;
\stopuseMPgraphic

\def\startMMundi{
  \setupMPvariables[MMundiTopBar]
    [textWidth=\textwidth,textHeight=0.5\lineheight]
  \strut\useMPgraphic{MMundiTopBar}
}
%  \startsidebar[MMundiBar]

\def\stopMMundi{
  \setupMPvariables[MMundiBottomBar]
    [textWidth=\textwidth,textHeight=0.5\lineheight]
  \useMPgraphic{MMundiBottomBar}\strut
}
%\stopsidebar

\def\ToDo#1{\color[red]{\bf TODO: #1}}
\let\TODO\ToDo

\stopMkIVCode
